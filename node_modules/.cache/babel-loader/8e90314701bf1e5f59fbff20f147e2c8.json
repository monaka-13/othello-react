{"ast":null,"code":"var _jsxFileName = \"C:\\\\projects\\\\practice\\\\react-tutorial\\\\tutorial\\\\src\\\\index.js\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Square(props) {\n  return /*#__PURE__*/_jsxDEV(\"button\", {\n    className: \"square\",\n    onClick: () => props.onClick(),\n    children: props.value\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 7,\n    columnNumber: 5\n  }, this);\n}\n\n_c = Square;\n\nclass Board extends React.Component {\n  constructor(props) {\n    super(props);\n    var array = [[null, null, null, null, null, null, null, null], [null, null, null, null, null, null, null, null], [null, null, null, null, null, null, null, null], [null, null, null, null, null, null, null, null], [null, null, null, null, null, null, null, null], [null, null, null, null, null, null, null, null], [null, null, null, null, null, null, null, null], [null, null, null, null, null, null, null, null]];\n    this.state = {\n      squares: array,\n      isX: true\n    };\n    this.state.squares[3][3] = 'O';\n    this.state.squares[3][4] = 'X';\n    this.state.squares[4][3] = 'X';\n    this.state.squares[4][4] = 'O';\n  }\n\n  handleClick(i, j) {\n    const squares = this.state.squares.slice();\n\n    if (calculateWinner(squares) || squares[i][j]) {\n      return;\n    }\n\n    const value = this.state.isX ? 'X' : 'O';\n    squares[i][j] = value;\n    this.setState({\n      squares: squares,\n      isX: !this.state.isX\n    }); //ボード全体配列と置かれたマスを渡して、裏返すべきマス配列を受け取る\n\n    alter(squares, i, j);\n  }\n\n  renderSquare(i, j) {\n    return /*#__PURE__*/_jsxDEV(Square, {\n      value: this.state.squares[i][j],\n      onClick: () => this.handleClick(i, j)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this);\n  }\n\n  render() {\n    const winner = calculateWinner(this.state.squares);\n    let status;\n\n    if (winner) {\n      if (winner === 'draw') {\n        status = 'DRAW';\n      } else {\n        status = 'Winner: ' + winner;\n      }\n    } else {\n      status = 'Next player: ' + (this.state.isX ? 'X' : 'O');\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"status\",\n        children: status\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"board-row\",\n        children: [this.renderSquare(0, 0), this.renderSquare(0, 1), this.renderSquare(0, 2), this.renderSquare(0, 3), this.renderSquare(0, 4), this.renderSquare(0, 5), this.renderSquare(0, 6), this.renderSquare(0, 7)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"board-row\",\n        children: [this.renderSquare(1, 0), this.renderSquare(1, 1), this.renderSquare(1, 2), this.renderSquare(1, 3), this.renderSquare(1, 4), this.renderSquare(1, 5), this.renderSquare(1, 6), this.renderSquare(1, 7)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"board-row\",\n        children: [this.renderSquare(2, 0), this.renderSquare(2, 1), this.renderSquare(2, 2), this.renderSquare(2, 3), this.renderSquare(2, 4), this.renderSquare(2, 5), this.renderSquare(2, 6), this.renderSquare(2, 7)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"board-row\",\n        children: [this.renderSquare(3, 0), this.renderSquare(3, 1), this.renderSquare(3, 2), this.renderSquare(3, 3), this.renderSquare(3, 4), this.renderSquare(3, 5), this.renderSquare(3, 6), this.renderSquare(3, 7)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"board-row\",\n        children: [this.renderSquare(4, 0), this.renderSquare(4, 1), this.renderSquare(4, 2), this.renderSquare(4, 3), this.renderSquare(4, 4), this.renderSquare(4, 5), this.renderSquare(4, 6), this.renderSquare(4, 7)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"board-row\",\n        children: [this.renderSquare(5, 0), this.renderSquare(5, 1), this.renderSquare(5, 2), this.renderSquare(5, 3), this.renderSquare(5, 4), this.renderSquare(5, 5), this.renderSquare(5, 6), this.renderSquare(5, 7)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"board-row\",\n        children: [this.renderSquare(6, 0), this.renderSquare(6, 1), this.renderSquare(6, 2), this.renderSquare(6, 3), this.renderSquare(6, 4), this.renderSquare(6, 5), this.renderSquare(6, 6), this.renderSquare(6, 7)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"board-row\",\n        children: [this.renderSquare(7, 0), this.renderSquare(7, 1), this.renderSquare(7, 2), this.renderSquare(7, 3), this.renderSquare(7, 4), this.renderSquare(7, 5), this.renderSquare(7, 6), this.renderSquare(7, 7)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nclass Game extends React.Component {\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"game\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"game-board\",\n        children: /*#__PURE__*/_jsxDEV(Board, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"game-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ol\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nfunction alter(squares, i, j) {\n  var value = squares[i][j];\n  var dirs = makeDir(); //tempの型はi,jの配列を保持する配列\n\n  var temp = [];\n  var alters = [];\n\n  for (let d = 0; d < dirs.length; d++) {\n    //dirs8方向ぶん回す\n    while (true) {\n      //dirぶんXY軸足す足す足す\n      i += dirs[d][0];\n      j += dirs[d][1];\n\n      if (i < 0 || i > 7 || j < 0 || j > 7) {\n        //枠外に出たら無効なのでこのdir処理は停止\n        console.log(\"枠外\");\n        temp = [];\n        break;\n      } else if (squares[i][j] == null) {\n        //次がnullなら無効なのでこのdir処理は停止\n        console.log(\"null\");\n        temp = [];\n        break;\n      } else if (value === squares[i][j]) {\n        //味方の駒ならdirが集まったとみなし、forを抜ける\n        console.log(\"味方の駒\");\n        break;\n      }\n\n      console.log(\"敵の駒\"); //値をtempに挿入\n\n      temp.push([i, j]);\n    } //temp配列の数が0以下ならおしまい\n\n\n    if (temp.length <= 0) {\n      continue;\n    }\n\n    for (let s = 0; s < temp.length; s++) {\n      //temp配列を順番にとって\n      //temp配列の値をalters配列に入れる\n      alters.push(temp[s]);\n    }\n  }\n} // eslint-disable-next-line\n\n\nfunction _alter(squares, i, j) {\n  var dirs = makeDir;\n\n  for (let d = 0; d < dirs.length; d++) {\n    if (i < 0 || i > 7 || j < 0 || j > 7) {\n      continue;\n    }\n\n    var currentValue = squares[i][j].value;\n    var nextPiece = squares[i + d[0]][j + d[1]]; //周りに敵の駒があること\n\n    if (nextPiece.value === null || currentValue === nextPiece.value) {\n      continue;\n    } // //進んだ先の駒を取得\n    // var temp = [];\n    // while (i < 0 && i > 7 && j < 0 && j > 7) {\n    //   i += d[0];\n    //   j += d[1];\n    //   temp.push(squares[i][j]);\n    // }\n    // //進んだ駒の最後が同じならaltersに挿入\n    // if (temp.lastItem === currentValue) {\n    //   for (let e = 0; e < temp.length - 1; e++) {\n    //     alters.push(temp[e]);\n    //   }\n    // }\n\n  } //altersをひっくり返す\n  //  const value = currentValue==='X' ? 'O' : 'X';\n  //  squares[i][j] = value;\n\n}\n\nfunction makeDir() {\n  return [[-1, -1], [-1, 0], [-1, 1], [0, -1], [0, 1], [1, -1], [1, 0], [1, 1]];\n}\n\nfunction calculateWinner(squares) {\n  let x = 0;\n  let o = 0;\n\n  for (let i = 0; i <= 7; i++) {\n    for (let j = 0; j < 7; j++) {\n      if (squares[i][j] === null) {\n        return null;\n      }\n\n      if (squares[i][j] === 'X') {\n        x++;\n        continue;\n      }\n\n      o++;\n    }\n  }\n\n  if (x > o) {\n    return 'X';\n  } else if (o > x) {\n    return 'O';\n  }\n\n  return 'draw';\n}\n\nReactDOM.render( /*#__PURE__*/_jsxDEV(Game, {}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 275,\n  columnNumber: 3\n}, this), document.getElementById('root'));\n\nvar _c;\n\n$RefreshReg$(_c, \"Square\");","map":{"version":3,"sources":["C:/projects/practice/react-tutorial/tutorial/src/index.js"],"names":["React","ReactDOM","Square","props","onClick","value","Board","Component","constructor","array","state","squares","isX","handleClick","i","j","slice","calculateWinner","setState","alter","renderSquare","render","winner","status","Game","dirs","makeDir","temp","alters","d","length","console","log","push","s","_alter","currentValue","nextPiece","x","o","document","getElementById"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n\nfunction Square(props) {\n  return (\n    <button\n      className=\"square\"\n      onClick={() => props.onClick()}\n    >\n      {props.value}\n    </button>\n  );\n}\n\nclass Board extends React.Component {\n  constructor(props) {\n    super(props);\n    var array = [[null, null, null, null, null, null, null, null,], [null, null, null, null, null, null, null, null,], [null, null, null, null, null, null, null, null,], [null, null, null, null, null, null, null, null,], [null, null, null, null, null, null, null, null,], [null, null, null, null, null, null, null, null,], [null, null, null, null, null, null, null, null,], [null, null, null, null, null, null, null, null,]]\n    this.state = {\n      squares: array,\n      isX: true,\n    };\n    this.state.squares[3][3] = 'O';\n    this.state.squares[3][4] = 'X';\n    this.state.squares[4][3] = 'X';\n    this.state.squares[4][4] = 'O';\n  }\n  handleClick(i, j) {\n    const squares = this.state.squares.slice();\n\n    if (calculateWinner(squares) || squares[i][j]) {\n      return;\n    }\n    const value = this.state.isX ? 'X' : 'O';\n    squares[i][j] = value;\n    this.setState({\n      squares: squares,\n      isX: !this.state.isX\n    });\n    //ボード全体配列と置かれたマスを渡して、裏返すべきマス配列を受け取る\n    alter(squares, i, j);\n  }\n  renderSquare(i, j) {\n    return (\n      <Square\n        value={this.state.squares[i][j]}\n        onClick={() => this.handleClick(i, j)}\n      />\n    );\n  }\n  render() {\n    const winner = calculateWinner(this.state.squares);\n    let status;\n    if (winner) {\n      if (winner === 'draw') {\n        status = 'DRAW'\n      } else {\n        status = 'Winner: ' + winner\n      }\n    } else {\n      status = 'Next player: ' + (this.state.isX ? 'X' : 'O');\n    }\n\n    return (\n      <div>\n        <div className=\"status\">{status}</div>\n        <div className=\"board-row\">\n          {this.renderSquare(0, 0)}\n          {this.renderSquare(0, 1)}\n          {this.renderSquare(0, 2)}\n          {this.renderSquare(0, 3)}\n          {this.renderSquare(0, 4)}\n          {this.renderSquare(0, 5)}\n          {this.renderSquare(0, 6)}\n          {this.renderSquare(0, 7)}\n        </div>\n        <div className=\"board-row\">\n          {this.renderSquare(1, 0)}\n          {this.renderSquare(1, 1)}\n          {this.renderSquare(1, 2)}\n          {this.renderSquare(1, 3)}\n          {this.renderSquare(1, 4)}\n          {this.renderSquare(1, 5)}\n          {this.renderSquare(1, 6)}\n          {this.renderSquare(1, 7)}\n        </div>\n        <div className=\"board-row\">\n          {this.renderSquare(2, 0)}\n          {this.renderSquare(2, 1)}\n          {this.renderSquare(2, 2)}\n          {this.renderSquare(2, 3)}\n          {this.renderSquare(2, 4)}\n          {this.renderSquare(2, 5)}\n          {this.renderSquare(2, 6)}\n          {this.renderSquare(2, 7)}\n        </div>\n        <div className=\"board-row\">\n          {this.renderSquare(3, 0)}\n          {this.renderSquare(3, 1)}\n          {this.renderSquare(3, 2)}\n          {this.renderSquare(3, 3)}\n          {this.renderSquare(3, 4)}\n          {this.renderSquare(3, 5)}\n          {this.renderSquare(3, 6)}\n          {this.renderSquare(3, 7)}\n        </div>\n        <div className=\"board-row\">\n          {this.renderSquare(4, 0)}\n          {this.renderSquare(4, 1)}\n          {this.renderSquare(4, 2)}\n          {this.renderSquare(4, 3)}\n          {this.renderSquare(4, 4)}\n          {this.renderSquare(4, 5)}\n          {this.renderSquare(4, 6)}\n          {this.renderSquare(4, 7)}\n        </div>\n        <div className=\"board-row\">\n          {this.renderSquare(5, 0)}\n          {this.renderSquare(5, 1)}\n          {this.renderSquare(5, 2)}\n          {this.renderSquare(5, 3)}\n          {this.renderSquare(5, 4)}\n          {this.renderSquare(5, 5)}\n          {this.renderSquare(5, 6)}\n          {this.renderSquare(5, 7)}\n        </div>\n        <div className=\"board-row\">\n          {this.renderSquare(6, 0)}\n          {this.renderSquare(6, 1)}\n          {this.renderSquare(6, 2)}\n          {this.renderSquare(6, 3)}\n          {this.renderSquare(6, 4)}\n          {this.renderSquare(6, 5)}\n          {this.renderSquare(6, 6)}\n          {this.renderSquare(6, 7)}\n        </div>\n        <div className=\"board-row\">\n          {this.renderSquare(7, 0)}\n          {this.renderSquare(7, 1)}\n          {this.renderSquare(7, 2)}\n          {this.renderSquare(7, 3)}\n          {this.renderSquare(7, 4)}\n          {this.renderSquare(7, 5)}\n          {this.renderSquare(7, 6)}\n          {this.renderSquare(7, 7)}\n        </div>\n      </div>\n    );\n  }\n}\nclass Game extends React.Component {\n  render() {\n    return (\n      <div className=\"game\">\n        <div className=\"game-board\">\n          <Board />\n        </div>\n        <div className=\"game-info\">\n          <div>{/*status*/}</div>\n          <ol>{/*TODO */}</ol>\n        </div>\n      </div>\n    )\n  }\n}\nfunction alter(squares, i, j) {\n  var value = squares[i][j];\n  var dirs = makeDir();\n  //tempの型はi,jの配列を保持する配列\n  var temp = [];\n  var alters = [];\n  for (let d = 0; d < dirs.length; d++) {//dirs8方向ぶん回す\n    while (true) {//dirぶんXY軸足す足す足す\n      i += dirs[d][0];\n      j += dirs[d][1];\n\n      if (i < 0 || i > 7 || j < 0 || j > 7) {//枠外に出たら無効なのでこのdir処理は停止\n        console.log(\"枠外\");\n        temp = [];\n        break;\n      }\n\n      else if (squares[i][j] == null) {//次がnullなら無効なのでこのdir処理は停止\n        console.log(\"null\");\n        temp = [];\n        break;\n      } else\n\n      if (value === squares[i][j]) {//味方の駒ならdirが集まったとみなし、forを抜ける\n        console.log(\"味方の駒\");\n        break;\n      }\n\n      console.log(\"敵の駒\");\n      //値をtempに挿入\n      temp.push([i, j]);\n    }\n\n\n    //temp配列の数が0以下ならおしまい\n    if (temp.length <= 0) {\n      continue;\n    }\n    for (let s = 0; s < temp.length; s++) {//temp配列を順番にとって\n      //temp配列の値をalters配列に入れる\n      alters.push(temp[s]);\n    }\n  }\n}\n\n// eslint-disable-next-line\nfunction _alter(squares, i, j) {\n  var dirs = makeDir;\n  for (let d = 0; d < dirs.length; d++) {\n    if (i < 0 || i > 7 || j < 0 || j > 7) {\n      continue;\n    }\n    var currentValue = squares[i][j].value;\n\n    var nextPiece = squares[i + d[0]][j + d[1]];\n    //周りに敵の駒があること\n    if (nextPiece.value === null || currentValue === nextPiece.value) {\n      continue;\n    }\n    // //進んだ先の駒を取得\n    // var temp = [];\n    // while (i < 0 && i > 7 && j < 0 && j > 7) {\n    //   i += d[0];\n    //   j += d[1];\n    //   temp.push(squares[i][j]);\n    // }\n    // //進んだ駒の最後が同じならaltersに挿入\n    // if (temp.lastItem === currentValue) {\n    //   for (let e = 0; e < temp.length - 1; e++) {\n    //     alters.push(temp[e]);\n    //   }\n    // }\n  }\n  //altersをひっくり返す\n  //  const value = currentValue==='X' ? 'O' : 'X';\n  //  squares[i][j] = value;\n\n}\n\nfunction makeDir() {\n  return [[-1, -1], [-1, 0], [-1, 1], [0, -1], [0, 1], [1, -1], [1, 0], [1, 1]];\n}\n\n\nfunction calculateWinner(squares) {\n  let x = 0;\n  let o = 0;\n  for (let i = 0; i <= 7; i++) {\n    for (let j = 0; j < 7; j++) {\n      if (squares[i][j] === null) {\n        return null;\n      }\n      if (squares[i][j] === 'X') {\n        x++;\n        continue;\n      }\n      o++;\n    }\n  }\n  if (x > o) {\n    return 'X';\n  } else if (o > x) {\n    return 'O';\n  }\n  return 'draw';\n}\n\nReactDOM.render(\n  <Game />,\n  document.getElementById('root')\n);"]},"metadata":{},"sourceType":"module"}