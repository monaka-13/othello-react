{"ast":null,"code":"var _jsxFileName = \"C:\\\\projects\\\\practice\\\\react-tutorial\\\\tutorial\\\\src\\\\index.js\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Square(props) {\n  return /*#__PURE__*/_jsxDEV(\"button\", {\n    className: \"square\",\n    onClick: () => props.onClick(),\n    children: props.value\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 7,\n    columnNumber: 5\n  }, this);\n}\n\n_c = Square;\n\nclass Board extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      squares: Array(64).fill(null),\n      isX: true\n    };\n  }\n\n  handleClick(i) {\n    const squares = this.state.squares.slice();\n\n    if (calculateWinner(squares) || squares[i]) {\n      return;\n    }\n\n    const value = this.state.isX ? 'X' : 'O';\n    squares[i] = value;\n    this.setState({\n      squares: squares,\n      isX: !this.state.isX\n    }); //ボード全体配列と置かれたマスを渡して、裏返すべきマス配列を受け取る\n\n    squares[1] = value; // var alters = alter(squares, i);\n    // for (let j = 0; j < alters.length; j++) {\n    //   squares[j] = value;\n    // }\n\n    console.log(squares);\n  }\n\n  renderSquare(i) {\n    return /*#__PURE__*/_jsxDEV(Square, {\n      value: this.state.squares[i],\n      onClick: () => this.handleClick(i)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this);\n  }\n\n  render() {\n    const winner = calculateWinner(this.state.squares);\n    let status;\n\n    if (winner) {\n      if (winner === 'draw') {\n        status = 'DRAW';\n      } else {\n        status = 'Winner: ' + winner;\n      }\n    } else {\n      status = 'Next player: ' + (this.state.isX ? 'X' : 'O');\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"status\",\n        children: status\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"board-row\",\n        children: [this.renderSquare(0), this.renderSquare(1), this.renderSquare(2), this.renderSquare(3), this.renderSquare(4), this.renderSquare(5), this.renderSquare(6), this.renderSquare(7)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"board-row\",\n        children: [this.renderSquare(8), this.renderSquare(9), this.renderSquare(10), this.renderSquare(11), this.renderSquare(12), this.renderSquare(13), this.renderSquare(14), this.renderSquare(15)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"board-row\",\n        children: [this.renderSquare(16), this.renderSquare(17), this.renderSquare(18), this.renderSquare(19), this.renderSquare(20), this.renderSquare(21), this.renderSquare(22), this.renderSquare(23)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"board-row\",\n        children: [this.renderSquare(24), this.renderSquare(25), this.renderSquare(26), this.renderSquare(27), this.renderSquare(28), this.renderSquare(29), this.renderSquare(30), this.renderSquare(31)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"board-row\",\n        children: [this.renderSquare(32), this.renderSquare(33), this.renderSquare(34), this.renderSquare(35), this.renderSquare(36), this.renderSquare(37), this.renderSquare(38), this.renderSquare(39)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"board-row\",\n        children: [this.renderSquare(40), this.renderSquare(41), this.renderSquare(42), this.renderSquare(43), this.renderSquare(44), this.renderSquare(45), this.renderSquare(46), this.renderSquare(47)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"board-row\",\n        children: [this.renderSquare(48), this.renderSquare(49), this.renderSquare(50), this.renderSquare(51), this.renderSquare(52), this.renderSquare(53), this.renderSquare(54), this.renderSquare(55)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"board-row\",\n        children: [this.renderSquare(56), this.renderSquare(57), this.renderSquare(58), this.renderSquare(59), this.renderSquare(60), this.renderSquare(61), this.renderSquare(62), this.renderSquare(63)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nclass Game extends React.Component {\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"game\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"game-board\",\n        children: /*#__PURE__*/_jsxDEV(Board, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"game-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ol\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nfunction alter(squares, number) {\n  var dirs = makeDir();\n\n  for (let i = 0; i < dirs.length; i++) {\n    var focusGrid = squares[number + dirs[i]];\n\n    while (enableAlter(focusGrid)) {\n      //TODO 周りに敵の石がない\n      if (false) {\n        break;\n      } //TODO 進んで行って自分の石がない\n\n\n      if (false) {\n        break;\n      } //隣に敵の石がある＆先に自分の石がある状態。\n      //石をひっくり返す\n\n\n      if (focusGrid === 'X') {\n        focusGrid = 'O';\n      } else {\n        focusGrid = 'X';\n      }\n    }\n  }\n}\n\nfunction makeDir() {\n  var dirX = [-1, 0, 1];\n  var dirY = [-8, 0, 8];\n  var dirArray = [];\n\n  for (let x = 0; x < dirX.length; x++) {\n    for (let y = 0; y < dirY.length; y++) {\n      let i = dirX[x] + dirY[y];\n\n      if (i === 0) {\n        break;\n      }\n\n      dirArray.push(i);\n    }\n  }\n\n  return dirArray;\n}\n\nfunction enableAlter(focusGrid) {\n  //枠外\n  if (focusGrid > 63 && focusGrid < 0) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction calculateWinner(squares) {\n  let x = 0;\n  let o = 0;\n\n  for (let i = 0; i <= 63; i++) {\n    if (squares[i] === null) {\n      return null;\n    }\n\n    if (squares[i] === 'X') {\n      x++;\n      continue;\n    }\n\n    o++;\n  }\n\n  if (x > o) {\n    return 'X';\n  } else if (o > x) {\n    return 'O';\n  }\n\n  return 'draw';\n}\n\nReactDOM.render( /*#__PURE__*/_jsxDEV(Game, {}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 238,\n  columnNumber: 3\n}, this), document.getElementById('root'));\n\nvar _c;\n\n$RefreshReg$(_c, \"Square\");","map":{"version":3,"sources":["C:/projects/practice/react-tutorial/tutorial/src/index.js"],"names":["React","ReactDOM","Square","props","onClick","value","Board","Component","constructor","state","squares","Array","fill","isX","handleClick","i","slice","calculateWinner","setState","console","log","renderSquare","render","winner","status","Game","alter","number","dirs","makeDir","length","focusGrid","enableAlter","dirX","dirY","dirArray","x","y","push","o","document","getElementById"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n\nfunction Square(props) {\n  return (\n    <button\n      className=\"square\"\n      onClick={() => props.onClick()}\n    >\n      {props.value}\n    </button>\n  );\n}\n\nclass Board extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      squares: Array(64).fill(null),\n      isX: true,\n    };\n  }\n  handleClick(i) {\n    const squares = this.state.squares.slice();\n    if (calculateWinner(squares) || squares[i]) {\n      return;\n    }\n    const value = this.state.isX ? 'X' : 'O';\n    squares[i] = value;\n    this.setState({\n      squares: squares,\n      isX: !this.state.isX\n    });\n    //ボード全体配列と置かれたマスを渡して、裏返すべきマス配列を受け取る\n    squares[1]=value;\n    // var alters = alter(squares, i);\n    // for (let j = 0; j < alters.length; j++) {\n    //   squares[j] = value;\n    // }\n    console.log(squares);\n  }\n  renderSquare(i) {\n    return (\n      <Square\n        value={this.state.squares[i]}\n        onClick={() => this.handleClick(i)}\n      />\n    );\n  }\n  render() {\n    const winner = calculateWinner(this.state.squares);\n    let status;\n    if (winner) {\n      if (winner === 'draw') {\n        status = 'DRAW'\n      } else {\n        status = 'Winner: ' + winner\n      }\n    } else {\n      status = 'Next player: ' + (this.state.isX ? 'X' : 'O');\n    }\n\n    return (\n      <div>\n        <div className=\"status\">{status}</div>\n        <div className=\"board-row\">\n          {this.renderSquare(0)}\n          {this.renderSquare(1)}\n          {this.renderSquare(2)}\n          {this.renderSquare(3)}\n          {this.renderSquare(4)}\n          {this.renderSquare(5)}\n          {this.renderSquare(6)}\n          {this.renderSquare(7)}\n        </div>\n        <div className=\"board-row\">\n          {this.renderSquare(8)}\n          {this.renderSquare(9)}\n          {this.renderSquare(10)}\n          {this.renderSquare(11)}\n          {this.renderSquare(12)}\n          {this.renderSquare(13)}\n          {this.renderSquare(14)}\n          {this.renderSquare(15)}\n        </div>\n        <div className=\"board-row\">\n          {this.renderSquare(16)}\n          {this.renderSquare(17)}\n          {this.renderSquare(18)}\n          {this.renderSquare(19)}\n          {this.renderSquare(20)}\n          {this.renderSquare(21)}\n          {this.renderSquare(22)}\n          {this.renderSquare(23)}\n        </div>\n        <div className=\"board-row\">\n          {this.renderSquare(24)}\n          {this.renderSquare(25)}\n          {this.renderSquare(26)}\n          {this.renderSquare(27)}\n          {this.renderSquare(28)}\n          {this.renderSquare(29)}\n          {this.renderSquare(30)}\n          {this.renderSquare(31)}\n        </div>\n        <div className=\"board-row\">\n          {this.renderSquare(32)}\n          {this.renderSquare(33)}\n          {this.renderSquare(34)}\n          {this.renderSquare(35)}\n          {this.renderSquare(36)}\n          {this.renderSquare(37)}\n          {this.renderSquare(38)}\n          {this.renderSquare(39)}\n        </div>\n        <div className=\"board-row\">\n          {this.renderSquare(40)}\n          {this.renderSquare(41)}\n          {this.renderSquare(42)}\n          {this.renderSquare(43)}\n          {this.renderSquare(44)}\n          {this.renderSquare(45)}\n          {this.renderSquare(46)}\n          {this.renderSquare(47)}\n        </div>\n        <div className=\"board-row\">\n          {this.renderSquare(48)}\n          {this.renderSquare(49)}\n          {this.renderSquare(50)}\n          {this.renderSquare(51)}\n          {this.renderSquare(52)}\n          {this.renderSquare(53)}\n          {this.renderSquare(54)}\n          {this.renderSquare(55)}\n        </div>\n        <div className=\"board-row\">\n          {this.renderSquare(56)}\n          {this.renderSquare(57)}\n          {this.renderSquare(58)}\n          {this.renderSquare(59)}\n          {this.renderSquare(60)}\n          {this.renderSquare(61)}\n          {this.renderSquare(62)}\n          {this.renderSquare(63)}\n        </div>\n      </div>\n    );\n  }\n}\nclass Game extends React.Component {\n  render() {\n    return (\n      <div className=\"game\">\n        <div className=\"game-board\">\n          <Board />\n        </div>\n        <div className=\"game-info\">\n          <div>{/*status*/}</div>\n          <ol>{/*TODO */}</ol>\n        </div>\n      </div>\n    )\n  }\n}\n\n\nfunction alter(squares, number) {\n  var dirs = makeDir();\n  for (let i = 0; i < dirs.length; i++) {\n    var focusGrid = squares[number + dirs[i]];\n    while (enableAlter(focusGrid)) {\n      //TODO 周りに敵の石がない\n      if (false) {\n        break;\n      }\n      //TODO 進んで行って自分の石がない\n      if (false) {\n        break;\n      }\n      //隣に敵の石がある＆先に自分の石がある状態。\n      //石をひっくり返す\n      if (focusGrid === 'X') {\n        focusGrid = 'O';\n      } else {\n        focusGrid = 'X';\n      }\n    }\n  }\n}\n\nfunction makeDir() {\n  var dirX = [-1, 0, 1];\n  var dirY = [-8, 0, 8];\n  var dirArray = [];\n  for (let x = 0; x < dirX.length; x++) {\n    for (let y = 0; y < dirY.length; y++) {\n      let i = dirX[x] + dirY[y];\n      if (i === 0) {\n        break;\n      }\n      dirArray.push(i);\n    }\n  }\n  return dirArray;\n}\n\nfunction enableAlter(focusGrid) {\n  //枠外\n  if (focusGrid > 63 && focusGrid < 0) {\n    return false;\n  }\n  return true;\n}\n\nfunction calculateWinner(squares) {\n  let x = 0;\n  let o = 0;\n  for (let i = 0; i <= 63; i++) {\n    if (squares[i] === null) {\n      return null;\n    }\n    if (squares[i] === 'X') {\n      x++;\n      continue;\n    }\n    o++;\n  }\n  if (x > o) {\n    return 'X';\n  } else if (o > x) {\n    return 'O';\n  }\n  return 'draw';\n}\n\nReactDOM.render(\n  <Game />,\n  document.getElementById('root')\n);"]},"metadata":{},"sourceType":"module"}